0600	ì†Œìœ ì ì½ê¸°/ì“°ê¸°	ì˜¤ì§ ì†Œìœ ìë§Œ ì½ê³  ì“¸ ìˆ˜ ìˆìŒ
0644	ì†Œìœ ì ì½ê¸°/ì“°ê¸°, ë‹¤ë¥¸ ì‚¬ìš©ì ì½ê¸°	ëŒ€ë¶€ë¶„ì˜ í…ìŠ¤íŠ¸ íŒŒì¼ì— ì‚¬ìš©ë¨
0666	ëª¨ë‘ ì½ê¸°/ì“°ê¸°	í¼ë¸”ë¦­ íŒŒì¼ (ì£¼ì˜ ìš”í•¨)
0755	ì†Œìœ ì ì½ê¸°/ì“°ê¸°/ì‹¤í–‰, ë‹¤ë¥¸ ì‚¬ìš©ì ì½ê¸°/ì‹¤í–‰	ì‹¤í–‰ ê°€ëŠ¥í•œ íŒŒì¼ (ex. shell script, ë°”ì´ë„ˆë¦¬)
0777	ëª¨ë‘ ì½ê¸°/ì“°ê¸°/ì‹¤í–‰	ì™„ì „ ê°œë°©ëœ ê¶Œí•œ (ë³´ì•ˆì— ë§¤ìš° ìœ„í—˜)



ì¢‹ì•„! ì—¬ê¸°ì„  C ì–¸ì–´ì˜ íŒŒì¼ ì…ì¶œë ¥ í•¨ìˆ˜ë“¤ì„ ê³ ìˆ˜ì¤€ I/Oì™€ ì €ìˆ˜ì¤€ I/Oë¡œ ë‚˜ëˆ ì„œ ì†Œê°œí•˜ê³ , ê°ê°ì˜ í•¨ìˆ˜ ì‚¬ìš©ë²•, ì¸ì, ë°˜í™˜ê°’, ì˜ˆì‹œë¥¼ ìì„¸íˆ ì„¤ëª…í•´ì¤„ê²Œ.
ğŸ§­ ëª©ì°¨

    ê³ ìˆ˜ì¤€ íŒŒì¼ ì…ì¶œë ¥ (C í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬)

        fopen, fclose, fgetc, fputc, fgets, fputs, fread, fwrite, fprintf, fscanf, fseek, ftell, rewind, feof, fflush

    ì €ìˆ˜ì¤€ íŒŒì¼ ì…ì¶œë ¥ (POSIX, ìœ ë‹‰ìŠ¤ ì‹œìŠ¤í…œ í˜¸ì¶œ)

        open, close, read, write, lseek

<a name="1"></a>
ğŸ§¾ 1. ê³ ìˆ˜ì¤€ íŒŒì¼ ì…ì¶œë ¥ (C í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬)
âœ… 1.1 fopen(), fclose()

FILE *fopen(const char *filename, const char *mode);
int fclose(FILE *stream);

    filename: íŒŒì¼ ì´ë¦„

    mode:

    ëª¨ë“œ	ì˜ë¯¸
    "r"	ì½ê¸° ëª¨ë“œ (íŒŒì¼ ì¡´ì¬í•´ì•¼ í•¨)
    "w"	ì“°ê¸° ëª¨ë“œ (ì—†ìœ¼ë©´ ìƒì„±, ìˆìœ¼ë©´ ë®ì–´ì”€)
    "a"	ì¶”ê°€ ëª¨ë“œ (ì—†ìœ¼ë©´ ìƒì„±, ìˆìœ¼ë©´ ëì— ì¶”ê°€)
    "r+"	ì½ê¸° + ì“°ê¸° (íŒŒì¼ ì¡´ì¬í•´ì•¼ í•¨)
    "w+"	ì½ê¸° + ì“°ê¸° (ì—†ìœ¼ë©´ ìƒì„±, ìˆìœ¼ë©´ ë®ì–´ì”€)
    "a+"	ì½ê¸° + ì¶”ê°€ (ì—†ìœ¼ë©´ ìƒì„±)
    "b"	ë°”ì´ë„ˆë¦¬ ëª¨ë“œì—ì„œ ì‚¬ìš© ("rb", "wb" ë“±)

ì˜ˆì œ

FILE *fp = fopen("file.txt", "r");
if (fp == NULL) {
    perror("íŒŒì¼ ì—´ê¸° ì‹¤íŒ¨");
    exit(1);
}
fclose(fp);

âœ… 1.2 ë¬¸ì ë‹¨ìœ„ ì…ì¶œë ¥: fgetc(), fputc()

int fgetc(FILE *stream);         // íŒŒì¼ì—ì„œ ë¬¸ì 1ê°œ ì½ê¸°
int fputc(int c, FILE *stream);  // íŒŒì¼ì— ë¬¸ì 1ê°œ ì“°ê¸°

ì˜ˆì œ

char ch;
while ((ch = fgetc(fp)) != EOF) {
    putchar(ch);
}

âœ… 1.3 ë¬¸ìì—´ ë‹¨ìœ„ ì…ì¶œë ¥: fgets(), fputs()

char *fgets(char *str, int n, FILE *stream);   // ìµœëŒ€ n-1ë¬¸ìê¹Œì§€ ì½ê³  \0 ì¶”ê°€
int fputs(const char *str, FILE *stream);      // ë¬¸ìì—´ ì „ì²´ ì“°ê¸°

ì˜ˆì œ

char line[100];
fgets(line, 100, fp);     // ì¤„ ë‹¨ìœ„ë¡œ ì½ê¸°
fputs(line, stdout);      // ì½˜ì†”ì— ì¶œë ¥

âœ… 1.4 ë°”ì´ë„ˆë¦¬ ì…ì¶œë ¥: fread(), fwrite()

size_t fread(void *ptr, size_t size, size_t nmemb, FILE *stream);
size_t fwrite(const void *ptr, size_t size, size_t nmemb, FILE *stream);

    ptr: ì½ê±°ë‚˜ ì“¸ ë²„í¼

    size: ê° ìš”ì†Œ í¬ê¸°

    nmemb: ìš”ì†Œ ê°œìˆ˜

ì˜ˆì œ

int arr[5] = {1,2,3,4,5};
fwrite(arr, sizeof(int), 5, fp);

âœ… 1.5 ì„œì‹ ì…ì¶œë ¥: fprintf(), fscanf()

int fprintf(FILE *stream, const char *format, ...);
int fscanf(FILE *stream, const char *format, ...);

ì˜ˆì œ

fprintf(fp, "ì´ë¦„: %s, ë‚˜ì´: %d\n", name, age);
fscanf(fp, "%s %d", name, &age);

âœ… 1.6 íŒŒì¼ ìœ„ì¹˜ ì œì–´: fseek(), ftell(), rewind()

int fseek(FILE *stream, long offset, int whence);
long ftell(FILE *stream);
void rewind(FILE *stream);

    whence:

    ê°’	ì˜ë¯¸
    SEEK_SET	íŒŒì¼ ì‹œì‘
    SEEK_CUR	í˜„ì¬ ìœ„ì¹˜
    SEEK_END	íŒŒì¼ ë

ì˜ˆì œ

fseek(fp, 0, SEEK_END);     // íŒŒì¼ ëìœ¼ë¡œ ì´ë™
long pos = ftell(fp);       // í˜„ì¬ ìœ„ì¹˜ í™•ì¸
rewind(fp);                 // íŒŒì¼ ì²˜ìŒìœ¼ë¡œ ì´ë™

âœ… 1.7 ê¸°íƒ€: feof(), fflush()

int feof(FILE *stream);      // íŒŒì¼ ëì¸ì§€ í™•ì¸
int fflush(FILE *stream);    // ë²„í¼ ë¹„ìš°ê¸°

<a name="2"></a>
âš™ï¸ 2. ì €ìˆ˜ì¤€ íŒŒì¼ ì…ì¶œë ¥ (POSIX)
âœ… 2.1 open(), close()

int open(const char *pathname, int flags, mode_t mode);
int close(int fd);

    flags: O_RDONLY, O_WRONLY, O_RDWR, O_CREAT, O_TRUNC, O_APPEND

    mode: 0666, 0644 ë“± (íŒŒì¼ ìƒì„± ì‹œ ê¶Œí•œ)

ì˜ˆì œ

int fd = open("file.txt", O_WRONLY | O_CREAT, 0644);
if (fd < 0) perror("open");
close(fd);

âœ… 2.2 read(), write()

ssize_t read(int fd, void *buf, size_t count);
ssize_t write(int fd, const void *buf, size_t count);

ì˜ˆì œ

char buf[100];
int n = read(fd, buf, sizeof(buf));
write(1, buf, n);  // ì½˜ì†”ì— ì¶œë ¥

âœ… 2.3 lseek()

off_t lseek(int fd, off_t offset, int whence);

    íŒŒì¼ ìœ„ì¹˜ë¥¼ ì´ë™í•¨ (ê³ ìˆ˜ì¤€ì˜ fseek()ê³¼ ìœ ì‚¬)

ì˜ˆì œ

lseek(fd, 0, SEEK_END);  // íŒŒì¼ ëìœ¼ë¡œ ì´ë™

âœ… ì •ë¦¬ ë¹„êµ
êµ¬ë¶„	ê³ ìˆ˜ì¤€ I/O (fopen)	ì €ìˆ˜ì¤€ I/O (open)
ì‚¬ìš© í¸ì˜ì„±	ë†’ìŒ (ë²„í¼ ìˆìŒ)	ë‚®ìŒ (ì§ì ‘ ì²˜ë¦¬ í•„ìš”)
í•¨ìˆ˜êµ°	fopen, fgetc, fputs ë“±	open, read, write ë“±
ì„±ëŠ¥	ë²„í¼ë§ìœ¼ë¡œ ë¹ ë¥¼ ìˆ˜ ìˆìŒ	ë²„í¼ë§ ì—†ìŒ
ê¶Œì¥ ì‚¬ìš©	ëŒ€ë¶€ë¶„ì˜ C í”„ë¡œê·¸ë¨	OS ìˆ˜ì¤€ ì œì–´, ì‹œìŠ¤í…œ í”„ë¡œê·¸ë˜ë°